(function (callback) {
  function loadJs(src, callback) {
    var container = document.body;
    var script = document.createElement("script");
    script.setAttribute("type", "text/javascript");
    script.src = src;
    container.appendChild(script);
    script.onload = function() {
      callback && callback()
    }
  }

  if (window.customElements) {
    callback()
  } else {
    loadJs(
      '//yumkuaizhan-1252921496.file.myqcloud.com/third/shadydom.min.js',
      function () {
        loadJs('//yumkuaizhan-1252921496.file.myqcloud.com/third/custom-elements.min.js', callback)
      }
    )
  }

})(function () {
  
!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function s(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function u(){return f(" ")}function d(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function p(e,t){t=""+t,e.data!==t&&(e.data=t)}let y;function h(e){y=e}function m(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const g=[],b=[],v=[],w=[],j=Promise.resolve();let x=!1;function O(e){v.push(e)}function $(){const e=new Set;do{for(;g.length;){const e=g.shift();h(e),k(e.$$)}for(;b.length;)b.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];e.has(n)||(n(),e.add(n))}v.length=0}while(g.length);for(;w.length;)w.pop()();x=!1}function k(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const S=new Set;function E(e,t){-1===e.$$.dirty[0]&&(g.push(e),x||(x=!0,j.then($)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function N(i,a,c,s,l,f,u=[-1]){const d=y;h(i);const p=a.props||{},m=i.$$={fragment:null,ctx:null,props:f,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u};let g=!1;var b,v;m.ctx=c?c(i,p,(e,t,...n)=>{const r=n.length?n[0]:t;return m.ctx&&l(m.ctx[e],m.ctx[e]=r)&&(m.bound[e]&&m.bound[e](r),g&&E(i,e)),t}):[],m.update(),g=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),a.target&&(a.hydrate?m.fragment&&m.fragment.l(function(e){return Array.from(e.childNodes)}(a.target)):m.fragment&&m.fragment.c(),a.intro&&((b=i.$$.fragment)&&b.i&&(S["delete"](b),b.i(v))),function(e,n,i){const{fragment:a,on_mount:c,on_destroy:s,after_update:l}=e.$$;a&&a.m(n,i),O(()=>{const n=c.map(t).filter(o);s?s.push(...n):r(n),e.$$.on_mount=[]}),l.forEach(O)}(i,a.target,a.anchor),$()),h(d)}let C;"function"==typeof HTMLElement&&(C=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}});var D=Object.prototype.hasOwnProperty,P=Array.isArray,A=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),L=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},_={arrayToObject:L,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],l=i[s];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:i,prop:s}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(P(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!=typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",i=0;i<r.length;++i){var a=r.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?o+=r.charAt(i):a<128?o+=A[a]:a<2048?o+=A[192|a>>6]+A[128|63&a]:a<55296||a>=57344?o+=A[224|a>>12]+A[128|a>>6&63]+A[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(i)),o+=A[240|a>>18]+A[128|a>>12&63]+A[128|a>>6&63]+A[128|63&a])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function le(e,t,n){if(!t)return e;if("object"!=typeof t){if(P(e))e.push(t);else{if(!e||"object"!=typeof e)return[e,t];(n&&(n.plainObjects||n.allowPrototypes)||!D.call(Object.prototype,t))&&(e[t]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(t);var r=e;return P(e)&&!P(t)&&(r=L(e,n)),P(e)&&P(t)?(t.forEach((function(t,r){if(D.call(e,r)){var o=e[r];o&&"object"==typeof o&&t&&"object"==typeof t?e[r]=le(o,t,n):e.push(t)}else e[r]=t})),e):Object.keys(t).reduce((function(e,r){var o=t[r];return D.call(e,r)?e[r]=le(e[r],o,n):e[r]=o,e}),r)}},T=String.prototype.replace,H=/%20/g,R={RFC1738:"RFC1738",RFC3986:"RFC3986"},q=_.assign({"default":R.RFC3986,formatters:{RFC1738:function(e){return T.call(e,H,"+")},RFC3986:function(e){return String(e)}}},R),F=Object.prototype.hasOwnProperty,Q={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},z=Array.isArray,I=Array.prototype.push,B=function(e,t){I.apply(e,z(t)?t:[t])},V=Date.prototype.toISOString,U=q["default"],M={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:_.encode,encodeValuesOnly:!1,format:U,formatter:q.formatters[U],indices:!1,serializeDate:function(e){return V.call(e)},skipNulls:!1,strictNullHandling:!1},G=function fe(e,t,n,r,o,i,a,c,s,l,f,u,d){var p,y=e;if("function"==typeof a?y=a(t,y):y instanceof Date?y=l(y):"comma"===n&&z(y)&&(y=y.join(",")),null===y){if(r)return i&&!u?i(t,M.encoder,d,"key"):t;y=""}if("string"==typeof(p=y)||"number"==typeof p||"boolean"==typeof p||"symbol"==typeof p||"bigint"==typeof p||_.isBuffer(y))return i?[f(u?t:i(t,M.encoder,d,"key"))+"="+f(i(y,M.encoder,d,"value"))]:[f(t)+"="+f(String(y))];var h,m=[];if(void 0===y)return m;if(z(a))h=a;else{var g=Object.keys(y);h=c?g.sort(c):g}for(var b=0;b<h.length;++b){var v=h[b];o&&null===y[v]||(z(y)?B(m,fe(y[v],"function"==typeof n?n(t,v):t,n,r,o,i,a,c,s,l,f,u,d)):B(m,fe(y[v],t+(s?"."+v:"["+v+"]"),n,r,o,i,a,c,s,l,f,u,d)))}return m},J=Object.prototype.hasOwnProperty,K=Array.isArray,W={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},X=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},Y=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=n.depth>0&&/(\[[^[\]]*])/.exec(r),a=i?r.slice(0,i.index):r,c=[];if(a){if(!n.plainObjects&&J.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var s=0;n.depth>0&&null!==(i=o.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&J.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+r.slice(i.index)+"]"),function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);n.parseArrays||""!==c?!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[])[s]=r:i[c]=r:i={0:r}}r=i}return r}(c,t,n)}},Z={formats:q,parse:function(e,t){var n=function(e){if(!e)return W;if(null!==e.decoder&&e.decoder!==undefined&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!=typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"==typeof e.charset?W.charset:e.charset;return{allowDots:"undefined"==typeof e.allowDots?W.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:W.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:W.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:W.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:W.comma,decoder:"function"==typeof e.decoder?e.decoder:W.decoder,delimiter:"string"==typeof e.delimiter||_.isRegExp(e.delimiter)?e.delimiter:W.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:W.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:W.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:W.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:W.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:W.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===Infinity?undefined:t.parameterLimit,a=o.split(t.delimiter,i),c=-1,s=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?s="utf-8":"utf8=%26%2310003%3B"===a[n]&&(s="iso-8859-1"),c=n,n=a.length);for(n=0;n<a.length;++n)if(n!==c){var l,f,u=a[n],d=u.indexOf("]="),p=-1===d?u.indexOf("="):d+1;-1===p?(l=t.decoder(u,W.decoder,s,"key"),f=t.strictNullHandling?null:""):(l=t.decoder(u.slice(0,p),W.decoder,s,"key"),f=t.decoder(u.slice(p+1),W.decoder,s,"value")),f&&t.interpretNumericEntities&&"iso-8859-1"===s&&(f=X(f)),f&&"string"==typeof f&&t.comma&&f.indexOf(",")>-1&&(f=f.split(",")),u.indexOf("[]=")>-1&&(f=K(f)?[f]:f),J.call(r,l)?r[l]=_.combine(r[l],f):r[l]=f}return r}(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var c=i[a],s=Y(c,r[c],n);o=_.merge(o,s,n)}return _.compact(o)},stringify:function(e,t){var n,r=e,o=function(e){if(!e)return M;if(null!==e.encoder&&e.encoder!==undefined&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||M.charset;if("undefined"!=typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=q["default"];if("undefined"!=typeof e.format){if(!F.call(q.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=q.formatters[n],o=M.filter;return("function"==typeof e.filter||z(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:M.addQueryPrefix,allowDots:"undefined"==typeof e.allowDots?M.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:M.charsetSentinel,delimiter:"undefined"==typeof e.delimiter?M.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:M.encode,encoder:"function"==typeof e.encoder?e.encoder:M.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:M.encodeValuesOnly,filter:o,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:M.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:M.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:M.strictNullHandling}}(t);"function"==typeof o.filter?r=(0,o.filter)("",r):z(o.filter)&&(n=o.filter);var i,a=[];if("object"!=typeof r||null===r)return"";i=t&&t.arrayFormat in Q?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var c=Q[i];n||(n=Object.keys(r)),o.sort&&n.sort(o.sort);for(var s=0;s<n.length;++s){var l=n[s];o.skipNulls&&null===r[l]||B(a,G(r[l],l,c,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var f=a.join(o.delimiter),u=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),f.length>0?u+f:""}};function ee(e,t={}){let n=5e3,r={credentials:"include",method:"GET",headers:{}};if(t.qs&&(e+=(-1===e.indexOf("?")?"?":"&")+Z.stringify(t.qs,{indices:!t.qsStringfyOptions})),t.json&&(r.headers["Content-Type"]="application/json",r.body=JSON.stringify(t.json)),t.form&&(r.headers["Content-Type"]="application/x-www-form-urlencoded",r.body=Z.stringify(t.form,{indices:!t.qsStringfyOptions})),t.method&&(r.method=t.method),t.formData){var o=new FormData;for(var i in t.formData)o.append(i,t.formData[i]);r.body=o}t.timeout!==undefined&&(n=t.timeout),t.credentials&&(r.credentials=t.credentials),t.headers&&Object.assign(r.headers,t.headers),t.body&&(r.body=t.body);const a=t.baseURL||"";return function(e,t){let n=null;const r=new Promise((function(e,t){n=function(){t("timeout")}})),o=Promise.race([e,r]);return setTimeout((function(){n()}),t),o}(fetch(a+e,r),n).then(te)["catch"](ne)}function te(e){if(e.status>=200&&e.status<300)return e.json();{const n=function(e){let t="未知错误";if(e>=400&&e<500)switch(e){case 401:t="您尚未登录,请登录后访问.";break;case 403:t="您所请求的资源被禁止访问.";break;case 404:t="您所请求的资源并不存在.";break;case 405:t="非法请求被禁止.";break;default:t=`抱歉，程序出了问题(${e}).`}else e>=500&&e<600&&(t="服务器出错啦.");return t}(e.status);var t=new Error(n);throw t.response=e,t}}function ne(e){console.error(e)}function re(e){let t,n,r,o,i;return{c(){t=l("div"),n=l("span"),n.textContent="阅读",r=u(),o=l("span"),i=f(e[3]),d(o,"class","post-data-num"),d(t,"class","post-data")},m(e,s){c(e,t,s),a(t,n),a(t,r),a(t,o),a(o,i)},p(e,t){8&t&&p(i,e[3])},d(e){e&&s(t)}}}function oe(e){let t,n,r,o,i,y,h,m,g,b;return{c(){t=l("div"),n=l("span"),n.textContent="点赞",r=u(),o=l("span"),i=f(e[2]),y=u(),h=l("img"),d(o,"class","post-data-num"),d(h,"class",m="post-like-img"),d(h,"alt","post-like"),h.src!==(g=e[4]?ce:ae)&&d(h,"src",g),d(t,"class","post-data")},m(s,l){var f,u,d,p;c(s,t,l),a(t,n),a(t,r),a(t,o),a(o,i),a(t,y),a(t,h),f=h,u="click",d=e[5],f.addEventListener(u,d,p),b=()=>f.removeEventListener(u,d,p)},p(e,t){4&t&&p(i,e[2]),16&t&&h.src!==(g=e[4]?ce:ae)&&d(h,"src",g)},d(e){e&&s(t),b()}}}function ie(t){let n,r,o,i,f,p=t[1]&&re(t),y=t[0]&&oe(t);return{c(){n=l("main"),r=l("style"),r.textContent=".post-data-line {\n      display: flex;\n      justify-content: space-around;\n      margin: 10px 0;\n    }\n\n    .post-data {\n      width: 165px;\n      background-color: #f5f5f7;\n      height: 35px;\n      color: #666b6f;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .post-data-num {\n      color: #14171c;\n      font-weight: 500;\n    }\n\n    .post-data span {\n      margin-right: 6px;\n    }\n\n    .post-like-img {\n      width: 16px;\n    }",o=u(),i=l("div"),p&&p.c(),f=u(),y&&y.c(),this.c=e,d(i,"class","post-data-line")},m(e,t){c(e,n,t),a(n,r),a(n,o),a(n,i),p&&p.m(i,null),a(i,f),y&&y.m(i,null)},p(e,[t]){e[1]?p?p.p(e,t):(p=re(e),p.c(),p.m(i,f)):p&&(p.d(1),p=null),e[0]?y?y.p(e,t):(y=oe(e),y.c(),y.m(i,null)):y&&(y.d(1),y=null)},i:e,o:e,d(e){e&&s(n),p&&p.d(),y&&y.d()}}}const ae="//pic.kuaizhan.com/g3/e5/49/177b-f43c-48cf-8b06-004b9b5ee99351",ce="//pic.kuaizhan.com/g3/2a/39/c32e-91f3-4c0f-82f6-519a9b58745e76";function se(e,t,n){let{pageid:r=0}=t,{likeon:o=!0}=t,{readon:i=!0}=t,a=0,c=0,s="",l=!1;return m(()=>{setTimeout(()=>{console.log(o,i),(i||o)&&ee(`/platform/api/v1/posts/${r}/info`).then(e=>{n(2,a=e.data.n_like),n(3,c=e.data.n_read)})})}),e.$set=e=>{"pageid"in e&&n(6,r=e.pageid),"likeon"in e&&n(0,o=e.likeon),"readon"in e&&n(1,i=e.readon)},e.$$.update=()=>{192&e.$$.dirty&&r&&(n(7,s="xq-post-like-"+r),n(4,l=localStorage.getItem(s)))},[o,i,a,c,l,function(){l||ee(`/platform/api/v1/posts/${r}/info`,{method:"PUT",json:{type:"LIKE"}}).then(e=>{n(4,l=!0),n(2,a+=1),localStorage.setItem(s,!0),window.xqui&&window.xqui.toast("点赞成功"),kaq&&kaq("send","event","post_like","click",page_id,1)})},r]}customElements.define("xq-post-like-line",class extends C{constructor(e){super(),this.shadowRoot.innerHTML="<style>:host{width:100vw}</style>",N(this,{target:this.shadowRoot},se,ie,i,{pageid:6,likeon:0,readon:1}),e&&(e.target&&c(e.target,this,e.anchor),e.props&&(this.$set(e.props),$()))}static get observedAttributes(){return["pageid","likeon","readon"]}get pageid(){return this.$$.ctx[6]}set pageid(e){this.$set({pageid:e}),$()}get likeon(){return this.$$.ctx[0]}set likeon(e){this.$set({likeon:e}),$()}get readon(){return this.$$.ctx[1]}set readon(e){this.$set({readon:e}),$()}})}();


})
